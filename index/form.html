<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/form.css">
    <script src="./jquery-3.5.1.min.js"></script>
    <title>dynamic form</title>
</head>
<body>
    <form class="container my-5">
        <div class="form-group">
      
          <p>상품선택</p>
          <select class="form-control" id="option1">
            <option>모자</option>
            <option>셔츠</option>
            <option>바지</option>
          </select>
          <div class="size-select">
          <p class="mt-4">사이즈 선택</p>
                <select class="form-control" id="size-option">
                </select>
          </div>
        </div>
      </form>
    <script>
        var pants = [26, 28, 30, 32, 34, 36, 38];
        var hat = [56, 57, 58, 59, 60, 61, 62, 63];
        var shirts = [90, 95, 100, 105, 110];
        document.getElementById('option1').addEventListener('change', function() {
            if($('#option1').val() == '모자') {
                $('#size-option *').remove();
                for(var i = 0; i < hat.length; i++) {
                    var option = `<option>${hat[i]}</option>`;
                    $('#size-option').append(option);
                };
                //자바스크립트를 이용한 append.
                // var list = document.createElement('option'); option 태그 생성
                // var list-content = document.createTextNode('95'); option에 들어갈 내용 생성
                // list.appendChild(list-content); option 안에 내용 더하기
                // document.getElementById('size-option').appendChild(list); 내용이 더해진 option을 size-option 안에 넣기
            }else if($('#option1').val() == '바지') {
                $('#size-option *').remove();
                // var option = `<option>28</option>
                //               <option>30</option>
                //               <option>32</option>
                //               <option>34</option>`; ``을 이용하면 자바스크립트 안에서 enter를 사용하며 html 요소 생성 가능
                for(var i = 0; i < pants.length; i++) {
                var option = `<option>${pants[i]}</option>`;
                //``안에 들어간 요소에 변수명을 입력하고 싶다면 ${변수명}으로 입력
                $('#size-option').append(option);
                };  
            } else if($('#option1').val() == '셔츠') {
                $('#size-option *').remove();
                shirts.forEach(function(i){
                    var option = `<option>${i}</option>`;
                    $('#size-option').append(option); 
                });
            };
        });
        //forEach는 모든 array에 사용 가능. array안에 있는 배열의 수 만큼 반복문을 사용하겠다는 의미
        //function(i)에서 i는 배열 안의 수, 즉 i 자체가 shirts안의 수라서 90, 95... 110 이 됨.
        //그러므로 ${}안에는 shirts[i]가 아니라 그냥 i만 써주면 됨.
    </script>
    <!-- Optional JavaScript; choose one of the two! -->
    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    -->
</body>
</html>